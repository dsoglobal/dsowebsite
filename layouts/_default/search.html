{{ define "content" }}

<div class="outer">
  <div class="inner">
  <form action="https://www.google.com/search" method="get" class="search" id="mySearch">
    <input type="hidden" name="q" id="q" value="site:dsowebsite-179d5.netlify.app">
    <label for="search-str">Search</label>
    <input type="text" name="q" id="searchstr"></p>
    <button type="submit" class="submit">Search</button>
  </form>
  <div id="result">
  </div>
  </div><!-- .inner-->https://dsowebsite-179d5.netlify.app/searchIndex.json
</div><!-- .outer -->
<script type="text/javascript">
document.getElementById('mySearch').addEventListener('submit', async event => {
  const result = await fetch('/.netlify/functions/searchIndex.json?search=${event.target.searchstr.value}').then(x => x.json())
  document.getElementById('result').innerText = JSON.stringify(result, null, 2)
})
</script>
{{ end }}
