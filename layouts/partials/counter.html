<script src="{{ "assets/js/counter.js" | relURL }}"></script>
<script src="{{ "assets/js/waypoints.js" | relURL }}"></script>

<section id="{{ .section.section_id }}" class="block text-block outer">
  <div class="inner-small">
    <div class="block-header">
      {{ $main := counter{{ index (seq 10 | shuffle) 0 }} }}
      <div class="block-title counter-value" id="{{ $main }}" data-count="{{ .section.num_count }}" data-desc="{{ .section.title }}">0</div>
    </div>
  </div><!-- .inner -->
</section><!-- .block -->
<script>
  var counter = new CountUp("{{ $main }}", 0, {{ .section.num_count }}, 0, 2.0); 
  var waypoint1 = new Waypoint({
  element: document.getElementById('counter}'),
  handler: function(direction) {
    if (direction == "up") {
      {{ $main }}.reset();
    } else {
      {{ $main }}.start();
    }
  },
  offset: '50%'
});
</script>

<style>
 .counter-value, { 
   line-height:2em;
   text-align:center;
   padding:17px 0;
 }
  .counter-value:before {
   content: attr(data-desc);
    display:block;
    text-transform:uppercase;
    line-height:1.2em;
  }
</style>
